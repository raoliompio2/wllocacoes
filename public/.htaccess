# Redirecionamentos para compatibilidade de URLs antigas
# Redireciona URLs antigas para as novas estruturas de URL

# Redirecionar /produto/ para /equipamento/
RewriteEngine On
RewriteRule ^produto/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /produtos para /equipamentos 
RewriteRule ^produtos/?$ /equipamentos [R=301,L]
RewriteRule ^produtos/(.+)$ /equipamentos/$1 [R=301,L]

# Redirecionar /maquina/ para /equipamento/
RewriteRule ^maquina/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /maquinas para /equipamentos
RewriteRule ^maquinas/?$ /equipamentos [R=301,L] 
RewriteRule ^maquinas/(.+)$ /equipamentos/$1 [R=301,L]

# Redirecionar /item/ para /equipamento/
RewriteRule ^item/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /itens para /equipamentos
RewriteRule ^itens/?$ /equipamentos [R=301,L]
RewriteRule ^itens/(.+)$ /equipamentos/$1 [R=301,L]

# Redirecionar /ferramenta/ para /equipamento/
RewriteRule ^ferramenta/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /ferramentas para /equipamentos
RewriteRule ^ferramentas/?$ /equipamentos [R=301,L]
RewriteRule ^ferramentas/(.+)$ /equipamentos/$1 [R=301,L]

# Redirecionar /locacao/ para /equipamento/
RewriteRule ^locacao/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /aluga/ para /equipamento/
RewriteRule ^aluga/(.+)$ /equipamento/$1 [R=301,L]

# Redirecionar /rent/ para /equipamento/ (para URLs em inglês)
RewriteRule ^rent/(.+)$ /equipamento/$1 [R=301,L]

# Fallback para SPA (Single Page Application)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Headers de Cache para assets estáticos
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/css "access plus 1 year"
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType font/woff2 "access plus 1 year"
    ExpiresByType font/woff "access plus 1 year"
</IfModule> 